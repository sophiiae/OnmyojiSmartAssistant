# OSA 阴阳师自动化脚本

## 📖 项目简介

OSA是一个阴阳师游戏自动化脚本项目，提供图形界面配置编辑和脚本运行功能。支持多种游戏任务的自动化，包括日常任务、探索、御魂、结界突破等。

## 🚀 快速开始

### 方式一：使用可执行文件（推荐）
1. 双击 `osa.exe` 启动程序
2. 在图形界面中配置游戏参数
3. 点击"运行"按钮开始自动化

### 方式二：使用Python脚本
1. 确保已安装Python环境
2. 运行 `python -m config_editor.osa_editor`
3. 在图形界面中配置和运行

## 📋 详细用户手册

### 1. 环境准备

#### 1.1 安装Python环境
- **下载Python**: 访问 [python.org](https://www.python.org/downloads/) 下载Python 3.8+
- **安装要求**: 
  - 选择"Add Python to PATH"
  - 勾选"pip"和"py launcher"
- **验证安装**: 打开命令提示符，输入 `python --version`

#### 1.2 安装MuMu模拟器
- **下载MuMu**: 从官网下载MuMu12模拟器
- **安装要求**:
  - 建议安装在默认路径
  - 开启ADB调试功能
  - 设置合适的分辨率（推荐1920x1080）

#### 1.3 安装阴阳师
- 在MuMu模拟器中安装阴阳师游戏
- 确保游戏能正常运行
- 建议使用官方版本

### 2. 项目安装

#### 2.1 下载项目
```bash
# 方式一：Git克隆
git clone https://github.com/your-repo/onmyoji-sa.git
cd onmyoji-sa

# 方式二：直接下载ZIP文件
# 解压到本地目录
```

#### 2.2 安装依赖
```bash
# 创建虚拟环境
python -m venv venv

# 激活虚拟环境
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# 安装依赖包
pip install -r requirements.txt
```

#### 2.3 验证安装
```bash
# 测试配置编辑器
python -m config_editor.osa_editor
```

### 3. 首次配置

#### 3.1 启动程序
- 双击 `osa.exe` 或运行 `python -m config_editor.osa_editor`
- 程序会自动创建默认配置文件

#### 3.2 基础配置
1. **模拟器设置**:
   - 设置MuMu模拟器路径
   - 配置ADB端口
   - 测试连接

2. **游戏设置**:
   - 设置游戏分辨率（720 x 1280, dpi 240）
   - 配置游戏账号信息

3. **任务配置**:
   - 复制configs/osa.json后修改文件名，或者直接修改文件名(注：osa.json在程序里不显示)
   - 启用想要的任务
   - 设置任务参数
   - 配置执行时间

#### 3.3 保存配置
- 配置会自动保存
- 可以创建多个配置文件

### 4. 高级功能

#### 4.1 多账号支持
- 创建多个配置文件
- 每个配置文件对应一个账号
- 支持账号切换

#### 4.2 定时任务
- 设置任务执行时间
- 支持每日定时执行
- 可配置执行条件

#### 4.3 日志监控
- 实时查看执行日志
- 监控任务执行状态
- 错误信息提示

### 5. 故障排除

#### 5.1 常见问题
1. **程序无法启动**
   - 检查Python环境是否正确安装
   - 确认依赖包是否完整安装
   - 查看错误日志

2. **模拟器连接失败**
   - 确认MuMu模拟器已启动
   - 检查ADB调试是否开启
   - 验证端口设置是否正确

3. **游戏识别失败**
   - 检查游戏分辨率设置
   - 确认游戏界面是否正常
   - 验证图像识别文件

4. **任务执行异常**
   - 检查网络连接
   - 确认游戏状态
   - 查看详细错误信息

#### 5.2 日志分析
- 查看 `logs/` 目录下的日志文件
- 分析错误信息和执行状态
- 根据日志调整配置

### 6. 配置文件说明

#### 6.1 配置文件位置
```
configs/
├── default.json          # 默认配置
├── account1.json         # 账号1配置
├── account2.json         # 账号2配置
└── custom_order.json     # 自定义顺序
```

#### 6.2 配置项说明
- **模拟器设置**: 模拟器路径、端口等
- **游戏设置**: 分辨率、账号信息等
- **任务设置**: 各种任务的执行参数
- **高级设置**: 日志级别、调试模式等

## 🔧 技术特性

- **平台支持**: 目前只支持Windows
- **模块化设计**: 易于扩展和维护
- **图像识别**: 基于OpenCV的智能识别
- **配置管理**: JSON格式的配置文件
- **日志系统**: 完整的日志记录功能

## 📞 技术支持

- **问题反馈**: 提交Bug Issue（最好有详细log和错误截图）
- **功能建议**: 提交Feature Request Issue
- **使用交流**: 加入用户交流群（暂不支持）

## 📄 许可证

本项目采用 MIT 许可证，详见 LICENSE 文件。

---

**注意**: 本工具仅供学习和研究使用，请遵守游戏规则和相关法律法规。
